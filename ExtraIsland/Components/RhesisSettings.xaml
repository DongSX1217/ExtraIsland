<ci:ComponentBase x:Class="ExtraIsland.Components.RhesisSettings"
                  x:TypeArguments="local:RhesisConfig"
                  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                  xmlns:local="clr-namespace:ExtraIsland.Components"
                  xmlns:ci="http://classisland.tech/schemas/xaml/core"
                  xmlns:converters="clr-namespace:ExtraIsland.Shared.Converters"
                  xmlns:components="clr-namespace:ExtraIsland.Components"
                  mc:Ignorable="d"
                  d:DesignHeight="300" d:DesignWidth="300">
    <ci:ComponentBase.Resources>
        <converters:DoubleToStringConverter x:Key="DoubleToStringConverter"/>
    </ci:ComponentBase.Resources>
    <ScrollViewer DataContext="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=local:RhesisSettings}}">
        <!-- ReSharper disable once Xaml.StaticResourceNotResolved -->
        <StackPanel Style="{StaticResource SettingsPageStackPanelStyle}">
            <ci:SettingsCard IconGlyph="GitRepository" Header="数据来源"
                             Description="选择使用的API">
                <ci:SettingsCard.Switcher>
                    <Grid>
                        <ComboBox
                            MinWidth="20"
                            SelectedItem="{Binding Settings.DataSource}"
                            ItemsSource="{Binding DataSources}">
                            <ComboBox.ItemTemplate>
                                <DataTemplate>
                                    <DataTemplate.Resources>
                                        <converters:EnumDescriptionConverter x:Key="EnumDescriptionConverter" />
                                    </DataTemplate.Resources>
                                    <TextBlock Text="{Binding Converter={StaticResource EnumDescriptionConverter}}" />
                                </DataTemplate>
                            </ComboBox.ItemTemplate>
                        </ComboBox>
                    </Grid>
                </ci:SettingsCard.Switcher>
            </ci:SettingsCard>
            <ci:SettingsCard IconGlyph="StopwatchMinus" Header="刷新间隔"
                             Description="设定自动刷新的时间间隔,单位为秒">
                <ci:SettingsCard.Switcher>
                    <StackPanel Orientation="Horizontal">
                        <TextBox Text="{Binding Settings.UpdateTimeGapSeconds, Converter={StaticResource DoubleToStringConverter}, Mode=TwoWay}"
                                 VerticalAlignment="Center"
                                 InputMethod.IsInputMethodEnabled="False"
                                 PreviewTextInput="TextBoxNumberCheck"
                                 MinWidth="30"/>
                    </StackPanel>
                </ci:SettingsCard.Switcher>
            </ci:SettingsCard>
            <ci:SettingsCard IconGlyph="Api" Header="一言 · 接口参数"
                             Description="自定义接口参数,留空即不应用">
                <ci:SettingsCard.Switcher>
                    <StackPanel Orientation="Horizontal">
                        <Label Foreground="{DynamicResource MaterialDesignBodyLight}"
                               VerticalContentAlignment="Center" VerticalAlignment="Center">
                            v1.hitokoto.cn/?
                        </Label>
                        <TextBox Text="{Binding Settings.HitokotoProp, Mode=TwoWay}"
                                 VerticalAlignment="Center"
                                 MinWidth="30"/>
                    </StackPanel>
                </ci:SettingsCard.Switcher>
            </ci:SettingsCard>
            <ci:SettingsCard IconGlyph="Api" Header="诏预 · 接口参数"
                             Description="自定义接口参数,留空即不应用">
                <ci:SettingsCard.Switcher>
                    <StackPanel Orientation="Horizontal">
                        <Label Foreground="{DynamicResource MaterialDesignBodyLight}"
                               VerticalContentAlignment="Center" VerticalAlignment="Center">
                            open.saintic.com/api/sentence/
                        </Label>
                        <TextBox Text="{Binding Settings.SainticProp, Mode=TwoWay}"
                                 VerticalAlignment="Center"
                                 MinWidth="30"/>
                        <Label Foreground="{DynamicResource MaterialDesignBodyLight}"
                               VerticalContentAlignment="Center" VerticalAlignment="Center">
                            .json
                        </Label>
                    </StackPanel>
                </ci:SettingsCard.Switcher>
            </ci:SettingsCard>
            <Label HorizontalAlignment="Center" 
                   Foreground="{DynamicResource MaterialDesignBodyLight}">
                Added by ExtraIsland
            </Label>
        </StackPanel>
    </ScrollViewer>
</ci:ComponentBase>
